(this.webpackJsonpivanadmin=this.webpackJsonpivanadmin||[]).push([[0],{458:function(e,t,s){},470:function(e,t,s){},475:function(e,t,s){},476:function(e,t,s){},723:function(e,t,s){},724:function(e,t,s){},725:function(e,t,s){},726:function(e,t,s){},727:function(e,t,s){},730:function(e,t,s){},731:function(e,t,s){},732:function(e,t,s){},733:function(e,t,s){},734:function(e,t,s){},735:function(e,t,s){},736:function(e,t,s){},737:function(e,t,s){},738:function(e,t,s){},739:function(e,t,s){},742:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s(33),n=s.n(a),r=s(25),i=(s(458),s(787)),l=s(790),o=s(791),d=s(792),u=s(793),j=s(794),b=s(795),h=s(796),O=s(797),p=s(798),m=s(799),x=s(800),f=s(801),g=s(41),v=s(31),N=s(90),w=s(28),S=Object(N.b)({name:"message",initialState:{messages:[],isFetching:!1,error:!1},reducers:{getMessageStart:function(e){e.isFetching=!0,e.error=!1},getMessageSuccess:function(e,t){e.isFetching=!1,e.messages=t.payload.sort((function(e,t){return t.createdAt.localeCompare(e.createdAt)}))},getMessageFailure:function(e){e.isFetching=!1,e.error=!0},messageToggleReadStart:function(e){e.isFetching=!0,e.error=!1},messageToggleReadSuccess:function(e,t){e.isFetching=!1;var s=t.payload,c=e.messages.findIndex((function(e){return e._id===s}));-1!==c&&(e.messages[c].read=!e.messages[c].read)},messageToggleReadFailure:function(e){e.isFetching=!1,e.error=!0},messageReadStart:function(e){e.isFetching=!0,e.error=!1},messageReadSuccess:function(e,t){e.isFetching=!1;var s=t.payload.id,c=e.messages.findIndex((function(e){return e._id===s}));-1!==c&&(e.messages[c].read=!0)},messageReadFailure:function(e){e.isFetching=!1,e.error=!0},allMessagesReadStart:function(e){e.isFetching=!0,e.error=!1},allMessagesReadSuccess:function(e){e.messages.forEach((function(e){e.read=!0}))},allMessagesReadFailure:function(e){e.isFetching=!1,e.error=!0}}}),y=S.actions,I=y.getMessageStart,k=y.getMessageSuccess,F=y.getMessageFailure,T=y.messageToggleReadStart,U=y.messageToggleReadSuccess,C=y.messageToggleReadFailure,L=y.messageReadStart,_=y.messageReadSuccess,P=y.messageReadFailure,A=(y.allMessagesReadStart,y.allMessagesReadSuccess,y.allMessagesReadFailure,S.reducer),M=function(e){return e.message.messages},R=Object(w.a)([M,function(e,t){return t}],(function(e,t){return e.filter((function(e){return e.userId===t}))})),B=s(1),D=function(e){var t=e.to,s=e.children;return Object(B.jsx)(g.c,{to:t,children:s,className:function(e){return"sidebarListItem"+(e.isActive?" active":"")}})},E=function(){var e=Object(v.b)(["sidebar"]).t,t=Object(r.c)(M),s=null===t||void 0===t?void 0:t.filter((function(e){return!(null===e||void 0===e?void 0:e.read)})).length;return Object(B.jsx)("div",{className:"sidebar",children:Object(B.jsxs)("div",{className:"sidebarWrapper",children:[Object(B.jsxs)("div",{className:"sidebarMenu",children:[Object(B.jsx)("h3",{className:"sidebarTitle",children:e("dashboard")}),Object(B.jsxs)("ul",{className:"sidebarList",children:[Object(B.jsxs)(D,{to:"/",children:[Object(B.jsx)(i.a,{className:"sidebarIcon"}),e("home")]}),Object(B.jsxs)(D,{to:"/analytics",children:[Object(B.jsx)(l.a,{className:"sidebarIcon"}),e("analytics")]}),Object(B.jsxs)(D,{to:"/sales",children:[Object(B.jsx)(o.a,{className:"sidebarIcon"}),e("sales")]}),Object(B.jsxs)(D,{to:"/orders",children:[Object(B.jsx)(d.a,{className:"sidebarIcon"}),e("orders")]})]})]}),Object(B.jsxs)("div",{className:"sidebarMenu",children:[Object(B.jsx)("h3",{className:"sidebarTitle",children:e("quickMenu")}),Object(B.jsxs)("ul",{className:"sidebarList",children:[Object(B.jsxs)(D,{to:"/users",children:[Object(B.jsx)(u.a,{className:"sidebarIcon"}),e("users")]}),Object(B.jsxs)(D,{to:"/products",children:[Object(B.jsx)(j.a,{className:"sidebarIcon"}),e("products")]}),Object(B.jsxs)(D,{to:"/transactions",children:[Object(B.jsx)(b.a,{className:"sidebarIcon"}),e("transactions")]}),Object(B.jsxs)(D,{to:"/reports",children:[Object(B.jsx)(h.a,{className:"sidebarIcon"}),e("reports")]})]})]}),Object(B.jsxs)("div",{className:"sidebarMenu",children:[Object(B.jsx)("h3",{className:"sidebarTitle",children:e("messages")}),Object(B.jsxs)("ul",{className:"sidebarList",children:[Object(B.jsxs)(D,{to:"/mail",children:[Object(B.jsx)(O.a,{className:"sidebarIcon"}),e("mail")]}),Object(B.jsxs)(D,{to:"/feedback",children:[Object(B.jsx)(p.a,{className:"sidebarIcon"}),e("feedback")]}),Object(B.jsxs)(D,{to:"/messages",children:[Object(B.jsx)(m.a,{className:"sidebarIcon"}),e("messages")," ",s>0&&"(".concat(s,")")]})]})]}),Object(B.jsxs)("div",{className:"sidebarMenu",children:[Object(B.jsx)("h3",{className:"sidebarTitle",children:e("staff")}),Object(B.jsxs)("ul",{className:"sidebarList",children:[Object(B.jsxs)(D,{to:"/manage",children:[Object(B.jsx)(x.a,{className:"sidebarIcon"}),e("manage")]}),Object(B.jsxs)(D,{to:"/staff_analytics",children:[Object(B.jsx)(l.a,{className:"sidebarIcon"}),e("analytics")]}),Object(B.jsxs)(D,{to:"/staff_reports",children:[Object(B.jsx)(f.a,{className:"sidebarIcon"}),e("reports")]})]})]})]})})},J=(s(470),s(802)),V=s(803),K=s(804),q=s(17),z=s(4),$=s.n(z),W=s(130),Z=s(14),H=s(265),G=s(5),Y=s(54),Q="TOKEN";Object(Y.b)("ru-locale",(function(e,t,s){return[["\u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e","\u043f\u0440\u044f\u043c\u043e \u0441\u0435\u0439\u0447\u0430\u0441"],["%s \u0441\u0435\u043a\u0443\u043d\u0434 \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 %s \u0441\u0435\u043a\u0443\u043d\u0434"],["1 \u043c\u0438\u043d\u0443\u0442\u0443 \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 1 \u043c\u0438\u043d\u0443\u0442\u0443"],["%s \u043c\u0438\u043d\u0443\u0442 \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 %s \u043c\u0438\u043d\u0443\u0442"],["1 \u0447\u0430\u0441 \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 1 \u0447\u0430\u0441"],["%s \u0447\u0430\u0441\u043e\u0432 \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 %s \u0447\u0430\u0441\u043e\u0432"],["1 \u0434\u0435\u043d\u044c \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 1 \u0434\u0435\u043d\u044c"],["%s \u0434\u043d\u0456\u0432 \u0442\u043e\u043c\u0443","\u0447\u0435\u0440\u0435\u0437 %s \u0434\u043d\u0435\u0439"],["1 \u043d\u0435\u0434\u0435\u043b\u044e \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 1 \u043d\u0435\u0434\u0435\u043b\u044e"],["%s \u043d\u0435\u0434\u0435\u043b\u044c \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 %s \u043d\u0435\u0434\u0435\u043b\u044c"],["1 \u043c\u0435\u0441\u044f\u0446 \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 1 \u043c\u0435\u0441\u044f\u0446"],["%s \u043c\u0435\u0441\u044f\u0446\u0435\u0432 \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 %s \u043c\u0435\u0441\u044f\u0446\u0435\u0432"],["1 \u0433\u043e\u0434 \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 1 \u0433\u043e\u0434"],["%s \u043b\u0435\u0442 \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 %s \u043b\u0435\u0442"]][t]}));function X(){var e=Object(c.useState)("en-locale"),t=Object(G.a)(e,2),s=t[0],a=t[1],n=localStorage.getItem("i18nextLng");return Object(c.useEffect)((function(){a("ua"===n?"ua-locale":"en-locale")}),[n]),s}Object(Y.b)("ua-locale",(function(e,t,s){return[["\u0449\u043e\u0439\u043d\u043e","\u043f\u0440\u044f\u043c\u043e \u0437\u0430\u0440\u0430\u0437"],["%s \u0441\u0435\u043a\u0443\u043d\u0434 \u0442\u043e\u043c\u0443","\u0447\u0435\u0440\u0435\u0437 %s \u0441\u0435\u043a\u0443\u043d\u0434"],["1 \u0445\u0432\u0438\u043b\u0438\u043d\u0443 \u0442\u043e\u043c\u0443","\u0447\u0435\u0440\u0435\u0437 1 \u0445\u0432\u0438\u043b\u0438\u043d\u0443"],["%s \u0445\u0432\u0438\u043b\u0438\u043d \u0442\u043e\u043c\u0443","\u0447\u0435\u0440\u0435\u0437 %s \u0445\u0432\u0438\u043b\u0438\u043d"],["1 \u0433\u043e\u0434\u0438\u043d\u0443 \u0442\u043e\u043c\u0443","\u0447\u0435\u0440\u0435\u0437 1 \u0433\u043e\u0434\u0438\u043d\u0443"],["%s \u0433\u043e\u0434\u0438\u043d \u0442\u043e\u043c\u0443","\u0447\u0435\u0440\u0435\u0437 %s \u0433\u043e\u0434\u0438\u043d"],["1 \u0434\u0435\u043d\u044c \u0442\u043e\u043c\u0443","\u0447\u0435\u0440\u0435\u0437 1 \u0434\u0435\u043d\u044c"],["%s \u0434\u043d\u0456\u0432 \u0442\u043e\u043c\u0443","\u0447\u0435\u0440\u0435\u0437 %s \u0434\u043d\u0456\u0432"],["1 \u0442\u0438\u0436\u0434\u0435\u043d\u044c \u0442\u043e\u043c\u0443","\u0447\u0435\u0440\u0435\u0437 1 \u0442\u0438\u0436\u0434\u0435\u043d\u044c"],["%s \u0442\u0438\u0436\u043d\u0456\u0432 \u0442\u043e\u043c\u0443","\u0447\u0435\u0440\u0435\u0437 %s \u0442\u0438\u0436\u043d\u0456\u0432"],["1 \u043c\u0456\u0441\u044f\u0446\u044c \u0442\u043e\u043c\u0443","\u0447\u0435\u0440\u0435\u0437 1 \u043c\u0456\u0441\u044f\u0446\u044c"],["%s \u043c\u0456\u0441\u044f\u0446\u0456\u0432 \u0442\u043e\u043c\u0443","\u0447\u0435\u0440\u0435\u0437 %s \u043c\u0456\u0441\u044f\u0446\u0456\u0432"],["1 \u0440\u0456\u043a \u0442\u043e\u043c\u0443","\u0447\u0435\u0440\u0435\u0437 1 \u0440\u0456\u043a"],["%s \u0440\u043e\u043a\u0456\u0432 \u0442\u043e\u043c\u0443","\u0447\u0435\u0440\u0435\u0437 %s \u0440\u043e\u043a\u0456\u0432"]][t]}));var ee=s(403),te="https://dark-tan-yak-garb.cyclic.app/api",se=H.a.create({baseURL:te,withCredentials:!0}),ce=H.a.create({baseURL:te,withCredentials:!0}),ae=function(e,t){localStorage.setItem(Q,JSON.stringify({refreshToken:e,refreshTokenId:t}))},ne=function(){return JSON.parse(localStorage.getItem(Q)||"{}")};ce.interceptors.request.use(function(){var e=Object(Z.a)($.a.mark((function e(t){var s,c,a,n,r,i,l,o,d;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((s=!!t.headers.token)&&(a=null===(c=t.headers.token)||void 0===c?void 0:c.substring(7),n=new Date,r=a&&Object(ee.a)(a),s=1e3*r.exp<n.getTime()),s){e.next=15;break}return i=ne(),l=i.refreshToken,o=i.refreshTokenId,e.prev=4,e.next=7,se.put("/auth/refresh_token",{refreshToken:l,refreshTokenId:o});case 7:d=e.sent,ae(d.data.refreshToken,o),t.headers.token="Bearer "+d.data.newAccessToken,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)}));var re=s(7),ie=Object(N.b)({name:"order",initialState:{orders:[],isFetching:!1,error:!1},reducers:{getOrderStart:function(e){e.isFetching=!0,e.error=!1},getOrderSuccess:function(e,t){e.isFetching=!1,e.orders=t.payload},getOrderFailure:function(e){e.isFetching=!1,e.error=!0},deleteOrderStart:function(e){e.isFetching=!0,e.error=!1},deleteOrderSuccess:function(e,t){e.isFetching=!1,e.orders.splice(e.orders.findIndex((function(e){return e._id===t.payload.id})),1)},deleteOrderFailure:function(e){e.isFetching=!1,e.error=!0},updateOrderStart:function(e){e.isFetching=!0,e.error=!1},updateOrderSuccess:function(e,t){var s=t.payload,c=s.id,a=s.updatedOrder,n=e.orders.findIndex((function(e){return e._id===c}));-1!==n&&(e.orders[n]=Object(re.a)(Object(re.a)({},e.orders[n]),a)),e.isFetching=!1},updateOrderFailure:function(e){e.isFetching=!1,e.error=!0},addOrderStart:function(e){e.isFetching=!0,e.error=!1},addOrderSuccess:function(e,t){e.isFetching=!1,e.orders.push(t.payload)},addOrderFailure:function(e){e.isFetching=!1,e.error=!0}}}),le=ie.actions,oe=le.getOrderStart,de=le.getOrderSuccess,ue=le.getOrderFailure,je=le.deleteOrderStart,be=le.deleteOrderSuccess,he=le.deleteOrderFailure,Oe=le.updateOrderStart,pe=le.updateOrderSuccess,me=le.updateOrderFailure,xe=(le.addOrderStart,le.addOrderSuccess,le.addOrderFailure,ie.reducer),fe=Object(N.b)({name:"product",initialState:{products:[],isFetching:!1,error:!1},reducers:{getProductStart:function(e){e.isFetching=!0,e.error=!1},getProductSuccess:function(e,t){e.isFetching=!1,e.products=t.payload},getProductFailure:function(e){e.isFetching=!1,e.error=!0},deleteProductStart:function(e){e.isFetching=!0,e.error=!1},deleteProductSuccess:function(e,t){e.isFetching=!1,e.products.splice(e.products.findIndex((function(e){return e._id===t.payload.id})),1)},deleteProductFailure:function(e){e.isFetching=!1,e.error=!0},updateProductStart:function(e){e.isFetching=!0,e.error=!1},updateProductSuccess:function(e,t){var s=e.products.find((function(e){return e._id===t.payload.id}));e.isFetching=!1,e.products[e.products.findIndex((function(e){return e._id===t.payload.id}))]=Object(re.a)(Object(re.a)(Object(re.a)({},s),t.payload.product),{},{desc:Object(re.a)(Object(re.a)({},s.desc),t.payload.product.desc)})},updateProductFailure:function(e){e.isFetching=!1,e.error=!0},addProductStart:function(e){e.isFetching=!0,e.error=!1},addProductSuccess:function(e,t){e.isFetching=!1,e.products.push(t.payload)},addProductFailure:function(e){e.isFetching=!1,e.error=!0}}}),ge=fe.actions,ve=ge.getProductStart,Ne=ge.getProductSuccess,we=ge.getProductFailure,Se=ge.deleteProductStart,ye=ge.deleteProductSuccess,Ie=ge.deleteProductFailure,ke=ge.updateProductStart,Fe=ge.updateProductSuccess,Te=ge.updateProductFailure,Ue=ge.addProductStart,Ce=ge.addProductSuccess,Le=ge.addProductFailure,_e=fe.reducer,Pe=Object(N.b)({name:"user",initialState:{currentUser:null,isFetching:!1,error:!1,users:[]},reducers:{loginStart:function(e){e.isFetching=!0},loginSuccess:function(e,t){e.isFetching=!1,e.currentUser=t.payload},loginFailure:function(e){e.isFetching=!1,e.error=!0},logoutStart:function(e){e.isFetching=!0},logoutSuccess:function(e){e.isFetching=!1,e.currentUser=null,e.error=!1},logoutFailure:function(e){e.isFetching=!1,e.error=!0},getUsersStart:function(e){e.isFetching=!0,e.error=!1},getUsersSuccess:function(e,t){e.isFetching=!1,e.users=t.payload},getUsersFailure:function(e){e.isFetching=!1,e.error=!0},updateUserStart:function(e){e.isFetching=!0,e.error=!1},updateUserSuccess:function(e,t){var s=t.payload,c=s.id,a=s.updatedUser,n=e.users.findIndex((function(e){return e._id===c}));-1!==n&&(e.users[n]=Object(re.a)(Object(re.a)({},e.users[n]),a)),e.isFetching=!1},updateUserFailure:function(e){e.isFetching=!1,e.error=!0},deleteUserStart:function(e){e.isFetching=!0,e.error=!1},deleteUserSuccess:function(e,t){e.isFetching=!1,e.users.splice(e.products.findIndex((function(e){return e._id===t.payload.id})),1)},deleteUserFailure:function(e){e.isFetching=!1,e.error=!0}}}),Ae=Pe.actions,Me=Ae.loginStart,Re=Ae.loginSuccess,Be=Ae.loginFailure,De=Ae.logoutStart,Ee=Ae.logoutSuccess,Je=Ae.logoutFailure,Ve=Ae.getUsersStart,Ke=Ae.getUsersSuccess,qe=Ae.getUsersFailure,ze=Ae.updateUserStart,$e=Ae.updateUserSuccess,We=Ae.updateUserFailure,Ze=Ae.deleteUserStart,He=Ae.deleteUserSuccess,Ge=Ae.deleteUserFailure,Ye=Pe.reducer,Qe=function(e){return e.user.users},Xe=function(){var e=Object(Z.a)($.a.mark((function e(t,s){var c,a,n,r,i;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Me()),e.prev=1,e.next=4,se.post("/auth/login",s);case 4:c=e.sent,a=c.data,a.accessToken,n=a.refreshToken,r=a.refreshTokenId,i=Object(W.a)(a,["accessToken","refreshToken","refreshTokenId"]),t(Re(i)),ae(n,r),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),t(Be()),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,s){return e.apply(this,arguments)}}(),et=function(){var e=Object(Z.a)($.a.mark((function e(t,s){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(De()),e.prev=1,e.next=4,ce.post("/auth/logout_post",s);case 4:t(Ee()),localStorage.removeItem(Q),delete ce.defaults.headers.common.token,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t(Je()),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,s){return e.apply(this,arguments)}}(),tt=function(){var e=Object(Z.a)($.a.mark((function e(t){var s;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ve()),e.prev=1,e.next=4,se.get("/products");case 4:s=e.sent,t(Ne(s.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(we()),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(Z.a)($.a.mark((function e(t,s){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Se()),e.prev=1,e.next=4,ce.delete("/products/".concat(t));case 4:s(ye(t)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),s(Ie()),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,s){return e.apply(this,arguments)}}(),ct=function(){var e=Object(Z.a)($.a.mark((function e(t,s,c){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(ke()),e.prev=1,e.next=4,ce.put("/products/".concat(t),s);case 4:c(Fe({id:t,product:s})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),c(Te()),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,s,c){return e.apply(this,arguments)}}(),at=function(){var e=Object(Z.a)($.a.mark((function e(t,s){var c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Ue()),e.prev=1,e.next=4,ce.post("/products",t);case 4:c=e.sent,s(Ce(c.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),s(Le()),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,s){return e.apply(this,arguments)}}(),nt=function(){var e=Object(Z.a)($.a.mark((function e(t){var s;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ve()),e.prev=1,e.next=4,ce.get("/users");case 4:s=e.sent,t(Ke(s.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(qe()),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(Z.a)($.a.mark((function e(t,s){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Ze()),e.prev=1,e.next=4,ce.delete("/users/".concat(t));case 4:s(He(t)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),s(Ge()),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,s){return e.apply(this,arguments)}}(),it=function(){var e=Object(Z.a)($.a.mark((function e(t,s,c){var a,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(ze()),e.prev=1,e.next=4,ce.put("/users/".concat(t),s);case 4:a=e.sent,n=a.data,c($e({id:t,updatedUser:n})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),c(We()),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,s,c){return e.apply(this,arguments)}}(),lt=function(){var e=Object(Z.a)($.a.mark((function e(t){var s;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(oe()),e.prev=1,e.next=4,ce.get("/orders");case 4:s=e.sent,t(de(s.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(ue()),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(Z.a)($.a.mark((function e(t,s){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(je()),e.prev=1,e.next=4,ce.delete("/orders/".concat(t));case 4:s(be(t)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),s(he()),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,s){return e.apply(this,arguments)}}(),dt=function(){var e=Object(Z.a)($.a.mark((function e(t,s,c){var a,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Oe()),e.prev=1,e.next=4,ce.put("/orders/".concat(t),s);case 4:a=e.sent,n=a.data,c(pe({id:t,updatedOrder:n})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),c(me()),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,s,c){return e.apply(this,arguments)}}(),ut=function(){var e=Object(Z.a)($.a.mark((function e(t){var s;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(I()),e.prev=1,e.next=4,ce.get("/notifications");case 4:s=e.sent,t(k(s.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(F()),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=Object(Z.a)($.a.mark((function e(t,s,c){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(T()),e.prev=1,e.next=4,ce.put("/notifications/".concat(t),s);case 4:c(U(t)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),c(C()),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,s,c){return e.apply(this,arguments)}}(),bt=function(){var e=Object(Z.a)($.a.mark((function e(t,s,c){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(L()),e.prev=1,e.next=4,ce.put("/notifications/".concat(t),s);case 4:c(_(t)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),c(P()),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,s,c){return e.apply(this,arguments)}}(),ht=s(169),Ot=function(){var e=Object(r.c)((function(e){return e.user.currentUser})),t=Object(r.b)(),s=Object(q.n)(),a=Object(v.b)(["topbar"]),n=a.i18n,i=a.t,l=Object(r.c)(M),o=null===l||void 0===l?void 0:l.filter((function(e){return!(null===e||void 0===e?void 0:e.read)})).length;Object(c.useEffect)((function(){var e;(null===(e=localStorage.getItem("i18nextLng"))||void 0===e?void 0:e.length)>2&&ht.a.changeLanguage("en")}),[]),Object(c.useEffect)((function(){e||s("/login")}),[e,s]);return Object(B.jsx)("div",{className:"topbar",children:Object(B.jsxs)("div",{className:"topbarWrapper",children:[Object(B.jsx)("div",{className:"topLeft",children:Object(B.jsx)(g.b,{to:"/",style:{textDecoration:"none"},children:Object(B.jsx)("span",{className:"logo",children:i("logo")})})}),Object(B.jsxs)("div",{className:"topRight",children:[e?Object(B.jsx)("button",{className:"logoutButton",onClick:function(e){return function(e){e.preventDefault();var s=ne().refreshTokenId;et(t,{refreshTokenId:s})}(e)},children:i("logout")}):Object(B.jsx)(g.b,{to:"/login",className:"logoutButton",children:i("login")}),Object(B.jsx)(g.b,{to:"/messages",children:Object(B.jsxs)("div",{className:"topbarIconContainer",children:[Object(B.jsx)(J.a,{}),o>0&&Object(B.jsx)("span",{className:"topIconBadge",children:o})]})}),Object(B.jsxs)("div",{className:"topbarIconContainer",children:[Object(B.jsx)(V.a,{}),Object(B.jsxs)("select",{className:"selectLanguage",onChange:function(e){n.changeLanguage(e.target.value)},value:localStorage.getItem("i18nextLng"),children:[Object(B.jsx)("option",{value:"en",children:"EN"}),Object(B.jsx)("option",{value:"ua",children:"UA"})]})]}),Object(B.jsx)("div",{className:"topbarIconContainer",children:Object(B.jsx)(K.a,{})}),Object(B.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/shop-80015.appspot.com/o/grape-icon.png?alt=media&token=edb90e89-ed75-4e1d-b172-d92fdaba92bb",alt:"",className:"topAvatar"})]})]})})},pt=(s(475),s(18)),mt=(s(476),s(805)),xt=s(824),ft=s(419),gt=s(418),vt=s(173),Nt=s(806),wt=function(e){var t=e.title,s=e.data,c=e.dataKey,a=e.grid;return Object(B.jsxs)("div",{className:"chart",children:[Object(B.jsx)("h3",{className:"chartTitle",children:t}),Object(B.jsx)(mt.a,{width:"100%",aspect:4,children:Object(B.jsxs)(xt.a,{data:s,children:[Object(B.jsx)(ft.a,{dataKey:"name",stroke:"#5550bd",interval:"preserveStartEnd"}),Object(B.jsx)(gt.a,{type:"monotone",dataKey:c,stroke:"#5550bd"}),Object(B.jsx)(vt.a,{}),a&&Object(B.jsx)(Nt.a,{stroke:"#e0dfdf",strokeDasharray:"5 5"})]})})]})},St=(s(723),s(807)),yt=s(808),It=function(){var e,t=Object(c.useState)([]),s=Object(G.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)(0),i=Object(G.a)(r,2),l=i[0],o=i[1],d=Object(v.b)(["featuredInfo"]).t;return Object(c.useEffect)((function(){var e=!1;return Object(Z.a)($.a.mark((function t(){var s,c,r;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.get("orders/income");case 3:r=t.sent,!e&&n(r.data),!e&&o(100*(null===(s=r.data[a.length-1])||void 0===s?void 0:s.total)/(null===(c=r.data[a.length-2])||void 0===c?void 0:c.total)-100),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){return e=!0}}),[a.length]),Object(B.jsxs)("div",{className:"featured",children:[Object(B.jsxs)("div",{className:"featuredItem",children:[Object(B.jsx)("span",{className:"featuredTitle",children:d("revenue")}),Object(B.jsxs)("div",{className:"featuredMoneyContainer",children:[Object(B.jsxs)("span",{className:"featuredMoney",children:[null===(e=a[a.length-1])||void 0===e?void 0:e.total," ",d("uah")]}),Object(B.jsxs)("span",{className:"featuredMoneyRate",children:["%",Math.floor(l)||""," ",l<0?Object(B.jsx)(St.a,{className:"featuredIcon negative"}):Object(B.jsx)(yt.a,{className:"featuredIcon"})]})]}),Object(B.jsx)("span",{className:"featuredSub",children:d("compared_to_last_month")})]}),Object(B.jsxs)("div",{className:"featuredItem",children:[Object(B.jsx)("span",{className:"featuredTitle",children:d("sales")}),Object(B.jsxs)("div",{className:"featuredMoneyContainer",children:[Object(B.jsx)("span",{className:"featuredMoney",children:"$4,415"}),Object(B.jsxs)("span",{className:"featuredMoneyRate",children:["-1.4 ",Object(B.jsx)(St.a,{className:"featuredIcon negative"})]})]}),Object(B.jsx)("span",{className:"featuredSub",children:d("compared_to_last_month")})]}),Object(B.jsxs)("div",{className:"featuredItem",children:[Object(B.jsx)("span",{className:"featuredTitle",children:d("cost")}),Object(B.jsxs)("div",{className:"featuredMoneyContainer",children:[Object(B.jsx)("span",{className:"featuredMoney",children:"$2,225"}),Object(B.jsxs)("span",{className:"featuredMoneyRate",children:["+2.4 ",Object(B.jsx)(yt.a,{className:"featuredIcon"})]})]}),Object(B.jsx)("span",{className:"featuredSub",children:d("compared_to_last_month")})]})]})},kt=(s(724),s(725),s(809)),Ft=function(){var e=Object(v.b)(["widgetSm"]).t,t=Object(c.useState)([]),s=Object(G.a)(t,2),a=s[0],n=s[1];return Object(c.useEffect)((function(){var e=!1;return Object(Z.a)($.a.mark((function t(){var s;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.get("users/?new=true");case 3:s=t.sent,!e&&n(s.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!0}}),[]),Object(B.jsxs)("div",{className:"widgetSm",children:[Object(B.jsx)("span",{className:"widgetSmTitle",children:e("newJoinMembers")}),Object(B.jsx)("ul",{className:"widgetSmList",children:null===a||void 0===a?void 0:a.map((function(t){return Object(B.jsxs)("li",{className:"widgetSmListItem",children:[Object(B.jsxs)("div",{className:"widgetSmUserBlock",children:[Object(B.jsx)("img",{src:t.img||"https://crowd-literature.eu/wp-content/uploads/2015/01/no-avatar.gif",alt:"",className:"widgetSmImg"}),Object(B.jsxs)("div",{className:"widgetSmUser",children:[Object(B.jsx)("span",{className:"widgetSmUsername",children:t.username}),Object(B.jsx)("span",{className:"widgetSmEmail",children:t.email})]})]}),Object(B.jsx)(g.c,{to:"/user/".concat(t._id),children:Object(B.jsxs)("button",{className:"widgetSmButton",children:[Object(B.jsx)(kt.a,{className:"widgetSmIcon"}),e("display")]})})]},t._id)}))})]})},Tt=(s(726),function(){var e=Object(c.useState)([]),t=Object(G.a)(e,2),s=t[0],a=t[1],n=Object(v.b)(["widgetLg"]).t,r=X();Object(c.useEffect)((function(){var e=!1;return Object(Z.a)($.a.mark((function t(){var s;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.get("orders");case 3:s=t.sent,!e&&a(s.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}),[]);var i=function(e){var t=e.type;return Object(B.jsx)("button",{className:"widgetLgButton "+t,children:t})};return Object(B.jsxs)("div",{className:"widgetLg",children:[Object(B.jsx)("h3",{className:"widgetLgTitle",children:n("latest_transactions")}),Object(B.jsxs)("table",{className:"widgetLgTable",children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{className:"widgetLgTr",children:[Object(B.jsx)("th",{className:"widgetLgTh",children:n("customer")}),Object(B.jsx)("th",{className:"widgetLgTh",children:n("date")}),Object(B.jsx)("th",{className:"widgetLgTh",children:n("amount")}),Object(B.jsx)("th",{className:"widgetLgTh",children:n("status")})]})}),s.map((function(e){return Object(B.jsx)("tbody",{children:Object(B.jsxs)("tr",{className:"widgetLgTr",children:[Object(B.jsx)("td",{className:"widgetLgUser",children:Object(B.jsx)("span",{className:"widgetLgName",children:e.userId})}),Object(B.jsx)("td",{className:"widgetLgDate",children:Object(Y.a)(e.createdAt,r)}),Object(B.jsxs)("td",{className:"widgetLgAmount",children:[e.amount," ",n("uah")]}),Object(B.jsx)("td",{className:"widgetLgStatus",children:Object(B.jsx)(i,{type:e.status})})]},e._id)},e._id)}))]})]})}),Ut=function(){var e=Object(v.b)(["home"]).t,t=Object(c.useState)([]),s=Object(G.a)(t,2),a=s[0],n=s[1],i=Object(r.c)((function(e){return e.user})),l=Object(c.useMemo)((function(){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),[]);return Object(c.useEffect)((function(){var e=!1;return i&&Object(Z.a)($.a.mark((function t(){var s;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.get("/users/stats");case 3:s=t.sent,!e&&n([]),s.data.map((function(t){return!e&&n((function(e){return[].concat(Object(pt.a)(e),[{name:"".concat(l[t._id.month-1],"-").concat(t._id.year),"Active User":t.total}])}))})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!0}}),[l,i]),Object(B.jsxs)("div",{className:"home",children:[Object(B.jsx)(It,{}),Object(B.jsx)(wt,{data:a,title:e("userRegistrationAnalytics"),grid:!0,dataKey:"Active User"}),Object(B.jsxs)("div",{className:"homeWidgets",children:[Object(B.jsx)(Ft,{}),Object(B.jsx)(Tt,{})]})]})},Ct=(s(727),s(145)),Lt=s(810),_t=s(823),Pt=s(813),At=s(814),Mt=s(131),Rt=function(){var e=Object(r.b)(),t=Object(r.c)(Qe),s=Object(c.useState)(null),a=Object(G.a)(s,2),n=a[0],i=a[1],l=Object(c.useState)(!1),o=Object(G.a)(l,2),d=o[0],u=o[1],j=Object(v.b)(["userList"]).t,b=[{field:"_id",headerName:j("id"),width:200},{field:"username",headerName:j("user"),width:200,renderCell:function(e){return Object(B.jsx)("div",{className:"userListUser",children:e.row.username})}},{field:"email",headerName:j("email"),width:200},{field:"status",headerName:j("status"),width:120},{field:"transaction",headerName:j("transaction_volume"),width:160},{field:"action",headerName:j("action"),width:150,renderCell:function(e){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(g.b,{to:"/user/"+e.row._id,children:Object(B.jsx)("button",{className:"userListEdit",children:j("edit")})}),Object(B.jsx)(Lt.a,{className:"userListDelete",onClick:function(){i(e.row._id),u(!0)}})]})}}];return Object(B.jsxs)("div",{className:"userList",children:[Object(B.jsx)(g.b,{to:"/newUser",children:Object(B.jsx)("button",{className:"createButton",children:j("createNewUser")})}),!!t.length&&Object(B.jsx)(Ct.a,{rows:t,disableSelectionOnClick:!0,columns:b,getRowId:function(e){return e._id},pageSize:8,checkboxSelection:!0}),Object(B.jsxs)(_t.a,{open:d,onClose:function(){return u(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(B.jsxs)(Pt.a,{children:[j("deleteConfirmation")," ",n," ?"]}),Object(B.jsxs)(At.a,{children:[Object(B.jsx)(Mt.a,{onClick:function(){return u(!1)},color:"primary",children:j("cancel")}),Object(B.jsx)(Mt.a,{onClick:function(){rt(n,e),u(!1)},color:"primary",autoFocus:!0,children:j("delete")})]})]})]})},Bt=s(11),Dt=s(815),Et=s(816),Jt=s(817),Vt=s(818),Kt=(s(730),s(50)),qt=s(421),zt=Object(qt.a)({apiKey:"AIzaSyCk3aOIhrv5B3PrI1fMHVgFIAutn2GKO8c",authDomain:"shop-80015.firebaseapp.com",projectId:"shop-80015",storageBucket:"shop-80015.appspot.com",messagingSenderId:"1032728149458",appId:"1:1032728149458:web:31b60cd11de2f35a561c0b"}),$t=function(){var e=Object(q.l)().pathname.split("/")[2],t=Object(r.b)(),s=Object(q.n)(),a=Object(v.b)(["user"]).t,n=Object(r.c)((function(t){return t.user.users.find((function(t){return t._id===e}))})),i=Object(r.c)((function(t){return R(t,e)})),l=Object(c.useState)({}),o=Object(G.a)(l,2),d=o[0],j=o[1],b=Object(c.useState)(null),h=Object(G.a)(b,2),p=h[0],m=h[1],x=X(),f=function(e){j((function(t){return Object(re.a)(Object(re.a)({},t),{},Object(Bt.a)({},e.target.name,e.target.value))}))};return Object(B.jsxs)("div",{className:"user",children:[Object(B.jsxs)("div",{className:"userTitleContainer",children:[Object(B.jsxs)("div",{className:"userShowTopTitle",children:[Object(B.jsx)("span",{className:"userShowUsername",children:null===n||void 0===n?void 0:n.username}),Object(B.jsx)("span",{className:"userShowUserTitle",children:null===n||void 0===n?void 0:n.email}),Object(B.jsx)("span",{className:"userShowUserTitle",children:Object(Y.a)(null===n||void 0===n?void 0:n.createdAt,x)})]}),Object(B.jsx)("h1",{className:"userTitle",children:a("editTitle")}),Object(B.jsx)(g.b,{to:"/newUser",children:Object(B.jsx)("button",{className:"userAddButton",children:a("createButton")})})]}),Object(B.jsxs)("div",{className:"userContainer",children:[Object(B.jsxs)("div",{className:"userShow",children:[Object(B.jsxs)("div",{className:"userShowTop",children:[Object(B.jsx)("img",{src:(null===n||void 0===n?void 0:n.img)?n.img:"https://images.pexels.com/photos/1152994/pexels-photo-1152994.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",alt:"",className:"userShowImg"}),Object(B.jsxs)("div",{className:"userShowTopTitle",children:[Object(B.jsx)("span",{className:"userShowUsername",children:(null===n||void 0===n?void 0:n.username)?n.username:a("unknown")}),Object(B.jsx)("span",{className:"userShowUserTitle",children:(null===n||void 0===n?void 0:n.title)?n.title:a("unknown")})]})]}),Object(B.jsxs)("div",{className:"userShowBottom",children:[Object(B.jsx)("span",{className:"userShowTitle",children:a("accountDetails")}),Object(B.jsxs)("div",{className:"userShowInfo",children:[Object(B.jsx)(u.a,{className:"userShowIcon"}),Object(B.jsx)("span",{className:"userShowInfoTitle",children:(null===n||void 0===n?void 0:n.username)?n.username:a("unknown")})]}),Object(B.jsxs)("div",{className:"userShowInfo",children:[Object(B.jsx)(Dt.a,{className:"userShowIcon"}),Object(B.jsx)("span",{className:"userShowInfoTitle",children:(null===n||void 0===n?void 0:n.dob)?n.dob:a("birthday")})]}),Object(B.jsx)("span",{className:"userShowTitle",children:a("contactDetails")}),Object(B.jsxs)("div",{className:"userShowInfo",children:[Object(B.jsx)(Et.a,{className:"userShowIcon"}),Object(B.jsx)("span",{className:"userShowInfoTitle",children:(null===n||void 0===n?void 0:n.phone)?n.phone:a("phone")})]}),Object(B.jsxs)("div",{className:"userShowInfo",children:[Object(B.jsx)(O.a,{className:"userShowIcon"}),Object(B.jsx)("span",{className:"userShowInfoTitle",children:(null===n||void 0===n?void 0:n.email)?n.email:a("email")})]}),Object(B.jsxs)("div",{className:"userShowInfo",children:[Object(B.jsx)(Jt.a,{className:"userShowIcon"}),Object(B.jsx)("span",{className:"userShowInfoTitle",children:(null===n||void 0===n?void 0:n.address)?n.address:a("address")})]})]})]}),Object(B.jsxs)("div",{className:"userUpdate",children:[Object(B.jsx)("span",{className:"userUpdateTitle",children:a("edit")}),Object(B.jsxs)("form",{className:"userUpdateForm",children:[Object(B.jsxs)("div",{className:"userUpdateLeft",children:[Object(B.jsxs)("div",{className:"userUpdateItem",children:[Object(B.jsx)("label",{children:a("username")}),Object(B.jsx)("input",{type:"text",name:"username",placeholder:(null===n||void 0===n?void 0:n.username)?n.username:a("unknown"),className:"userUpdateInput",onChange:function(e){return f(e)}})]}),Object(B.jsxs)("div",{className:"userUpdateItem",children:[Object(B.jsx)("label",{children:a("fullName")}),Object(B.jsx)("input",{type:"text",name:"fullname",placeholder:(null===n||void 0===n?void 0:n.fullname)?n.fullname:a("fullName"),className:"userUpdateInput",onChange:function(e){return f(e)}})]}),Object(B.jsxs)("div",{className:"userUpdateItem",children:[Object(B.jsx)("label",{children:a("email")}),Object(B.jsx)("input",{type:"text",name:"email",placeholder:(null===n||void 0===n?void 0:n.email)?n.email:a("email"),className:"userUpdateInput",onChange:function(e){return f(e)}})]}),Object(B.jsxs)("div",{className:"userUpdateItem",children:[Object(B.jsx)("label",{children:a("phone")}),Object(B.jsx)("input",{type:"text",name:"phone",placeholder:(null===n||void 0===n?void 0:n.phone)?n.phone:a("phone"),className:"userUpdateInput",onChange:function(e){return f(e)}})]}),Object(B.jsxs)("div",{className:"userUpdateItem",children:[Object(B.jsx)("label",{children:a("birthday")}),Object(B.jsx)("input",{type:"date",name:"dob",placeholder:(null===n||void 0===n?void 0:n.dob)?n.dob:a("birthday"),className:"userUpdateInput",onChange:function(e){return f(e)}})]}),Object(B.jsxs)("div",{className:"userUpdateItem",children:[Object(B.jsx)("label",{children:a("address")}),Object(B.jsx)("input",{type:"text",name:"address",placeholder:(null===n||void 0===n?void 0:n.address)?n.address:a("address"),className:"userUpdateInput",onChange:function(e){return f(e)}})]})]}),Object(B.jsxs)("div",{className:"userUpdateRight",children:[Object(B.jsxs)("div",{className:"userUpdateUpload",children:[Object(B.jsx)("img",{className:"userUpdateImg",src:(null===n||void 0===n?void 0:n.img)?n.img:"https://images.pexels.com/photos/1152994/pexels-photo-1152994.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",alt:""}),Object(B.jsx)("label",{htmlFor:"file",children:Object(B.jsx)(Vt.a,{className:"userUpdateIcon"})}),Object(B.jsx)("input",{type:"file",id:"file",style:{display:"none"},onChange:function(e){return m(e.target.files[0])}})]}),Object(B.jsx)("button",{className:"userUpdateButton",onClick:function(c){if(c.preventDefault(),p){var a=(new Date).getTime()+p.name,r=Object(Kt.b)(zt),i=Object(Kt.c)(r,a),l=Object(Kt.d)(i,p);l.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){}),(function(){Object(Kt.a)(l.snapshot.ref).then((function(s){var c=Object(re.a)(Object(re.a)(Object(re.a)({},n),d),{},{img:s});it(e,c,t)}))}),s("/users/"))}else{var o=Object(re.a)(Object(re.a)({},n),d);it(e,o,t),s("/users/")}},children:a("updateButton")})]})]})]})]}),Object(B.jsxs)("div",{className:"userNotifications",children:[Object(B.jsx)("h2",{children:a("notifications")}),Object(B.jsx)("ul",{className:"notificationsList",children:i.map((function(e){return Object(B.jsx)("li",{children:Object(B.jsxs)(g.b,{to:"/message/".concat(e._id),className:"notificationItem",children:[e.subject," ",Object(B.jsx)("i",{children:Object(Y.a)(null===e||void 0===e?void 0:e.createdAt,x)})]})},e._id)}))})]})]})},Wt=(s(731),s(422));function Zt(){var e=Object(c.useState)({}),t=Object(G.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)(null),r=Object(G.a)(n,2),i=r[0],l=r[1],o=Object(v.b)(["newUser"]).t,d=Object(Wt.a)(),u=d.register,j=d.handleSubmit,b=d.formState.errors,h=Object(q.n)(),O=function(e){e.preventDefault(),a((function(t){return Object(re.a)(Object(re.a)({},t),{},Object(Bt.a)({},e.target.name,e.target.value))}))},p=function(){var e=Object(Z.a)($.a.mark((function e(t){var c,n,r,l,o;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i?(n=(new Date).getTime()+i.name,r=Object(Kt.b)(zt),l=Object(Kt.c)(r,n),(o=Object(Kt.d)(l,i)).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){}),(function(){Object(Kt.a)(o.snapshot.ref).then((function(e){c=Object(re.a)(Object(re.a)({},s),{},{img:e})}))}))):c=Object(re.a)({},s),e.prev=3,e.next=6,ce.post("/auth/register",c);case 6:a({}),h("/user"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{className:"newUser",children:[Object(B.jsx)("h1",{className:"newUserTitle",children:o("title")}),Object(B.jsxs)("form",{className:"newUserForm",onSubmit:j(p),children:[Object(B.jsxs)("div",{className:"newUserItem",children:[Object(B.jsx)("label",{children:o("image")}),Object(B.jsx)("input",{type:"file",id:"file",onChange:function(e){return l(e.target.files[0])}})]}),Object(B.jsxs)("div",{className:"newUserItem",children:[Object(B.jsx)("label",{children:o("username")}),Object(B.jsx)("input",Object(re.a)(Object(re.a)({},u("username",{maxLength:20})),{},{type:"text",name:"username",placeholder:o("namePlaceholder"),onChange:function(e){return O(e)}})),b.username&&Object(B.jsx)("p",{style:{color:"red"},children:o("username_check")})]}),Object(B.jsxs)("div",{className:"newUserItem",children:[Object(B.jsx)("label",{children:o("fullName")}),Object(B.jsx)("input",Object(re.a)(Object(re.a)({},u("fullname",{maxLength:100})),{},{type:"text",name:"fullname",placeholder:o("fullnamePlaceholder"),onChange:function(e){return O(e)}})),b.fullname&&Object(B.jsx)("p",{style:{color:"red"},children:o("fullname_check")})]}),Object(B.jsxs)("div",{className:"newUserItem",children:[Object(B.jsx)("label",{children:o("email")}),Object(B.jsx)("input",Object(re.a)(Object(re.a)({},u("email",{required:"This is required",pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/})),{},{type:"email",name:"email",placeholder:o("emailPlaceholder"),onChange:function(e){return O(e)}})),b.email&&Object(B.jsx)("p",{style:{color:"red"},children:o("email_check")})]}),Object(B.jsxs)("div",{className:"newUserItem",children:[Object(B.jsx)("label",{children:o("password")}),Object(B.jsx)("input",Object(re.a)(Object(re.a)({},u("password",{required:"This is required",pattern:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,15}$/})),{},{type:"password",name:"password",placeholder:o("password"),onChange:function(e){return O(e)}})),b.password&&Object(B.jsx)("p",{style:{color:"red"},children:o("password_check")})]}),Object(B.jsxs)("div",{className:"newUserItem",children:[Object(B.jsx)("label",{children:o("phone")}),Object(B.jsx)("input",{type:"text",placeholder:o("phonePlaceholder")})]}),Object(B.jsxs)("div",{className:"newUserItem",children:[Object(B.jsx)("label",{children:o("passwordConfirm")}),Object(B.jsx)("input",Object(re.a)(Object(re.a)({},u("passwordConfirm",{required:"This is required",pattern:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,15}$/})),{},{type:"password",name:"passwordConfirm",placeholder:o("confirm_password_placeholder"),onChange:function(e){return O(e)}})),s.password===s.passwordConfirm?s.password&&Object(B.jsx)("div",{style:{color:"green"},children:o("passwords_match")}):s.passwordConfirm&&Object(B.jsx)("div",{style:{color:"red"},children:o("passwords_not_match")})]}),Object(B.jsxs)("div",{className:"newUserItem",children:[Object(B.jsx)("label",{children:o("address")}),Object(B.jsx)("input",Object(re.a)(Object(re.a)({},u("address",{maxLength:500})),{},{type:"text",name:"address",placeholder:o("addressPlaceholder"),onChange:function(e){return O(e)}})),b.address&&Object(B.jsx)("p",{style:{color:"red"},children:o("address_check")})]}),Object(B.jsxs)("div",{className:"newUserItem",children:[Object(B.jsx)("label",{children:o("gender")}),Object(B.jsxs)("div",{className:"newUserGender",children:[Object(B.jsx)("input",{type:"radio",name:"gender",id:"male",value:"male",onChange:function(e){return O(e)}}),Object(B.jsx)("label",{for:"male",children:o("male")}),Object(B.jsx)("input",{type:"radio",name:"gender",id:"female",value:"female",onChange:function(e){return O(e)}}),Object(B.jsx)("label",{for:"female",children:o("female")}),Object(B.jsx)("input",{type:"radio",name:"gender",id:"other",value:"other",onChange:function(e){return O(e)}}),Object(B.jsx)("label",{for:"other",children:o("other")})]})]}),Object(B.jsxs)("div",{className:"newUserItem",children:[Object(B.jsx)("label",{children:o("active")}),Object(B.jsxs)("select",{className:"newUserSelect",name:"active",id:"active",onChange:function(e){return O(e)},defaultValue:"Yes",children:[Object(B.jsx)("option",{value:"yes",children:o("yes")}),Object(B.jsx)("option",{value:"no",children:o("no")})]})]}),Object(B.jsx)("button",{className:"newUserButton",type:"submit",children:o("create")})]})]})}s(732);function Ht(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.product.products})),s=Object(c.useState)(""),a=Object(G.a)(s,2),n=a[0],i=a[1],l=Object(c.useState)(""),o=Object(G.a)(l,2),d=o[0],u=o[1],j=Object(c.useState)(!1),b=Object(G.a)(j,2),h=b[0],O=b[1],p=Object(v.b)(["productList"]).t,m=[{field:"_id",headerName:"ID",width:220},{field:"product",headerName:p("product"),width:200,renderCell:function(e){return Object(B.jsxs)("div",{className:"productListItem",children:[Object(B.jsx)("img",{className:"productListImg",src:e.row.img,alt:""}),p(e.row.title)]})}},{field:"inStock",headerName:p("stock"),width:200,renderCell:function(e){return Object(B.jsx)("div",{className:"productListItem",children:p(e.row.inStock)})}},{field:"price",headerName:p("price"),width:160},{field:"action",headerName:p("action"),width:150,renderCell:function(e){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(g.b,{to:"/product/"+e.row._id,children:Object(B.jsx)("button",{className:"productListEdit",children:p("edit")})}),Object(B.jsx)(Lt.a,{className:"productListDelete",onClick:function(){i(e.row._id),u(e.row.title),O(!0)}})]})}}];return Object(B.jsxs)("div",{className:"productList",children:[Object(B.jsx)(g.b,{to:"/newproduct",children:Object(B.jsx)("button",{className:"createButton",children:p("createNewProduct")})}),Object(B.jsx)(Ct.a,{rows:t,disableSelectionOnClick:!0,columns:m,getRowId:function(e){return e._id},pageSize:8,checkboxSelection:!0}),Object(B.jsxs)(_t.a,{open:h,onClose:function(){return O(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",PaperProps:{style:{border:"3px solid #f54266",borderRadius:10,backgroundColor:"#f1eeef",justifyContent:"center",textAlign:"center"}},children:[Object(B.jsxs)(Pt.a,{children:[p("deleteConfirmation")," ",n," (",d,")?"]}),Object(B.jsxs)(At.a,{children:[Object(B.jsx)(Mt.a,{onClick:function(){return O(!1)},color:"primary",variant:"outlined",children:p("cancel")}),Object(B.jsx)(Mt.a,{onClick:function(){st(n,e),O(!1)},color:"secondary",autoFocus:!0,variant:"outlined",children:p("delete")})]})]})]})}s(733);var Gt=function(){var e=Object(q.l)(),t=Object(q.n)(),s=e.pathname.split("/")[2],a=Object(r.c)((function(e){return e.product.products.find((function(e){return e._id===s}))})),n=Object(r.c)((function(e){return e.product.isFetching})),i=Object(c.useState)([]),l=Object(G.a)(i,2),o=l[0],d=l[1],u=Object(c.useState)(""),j=Object(G.a)(u,2),b=j[0],h=j[1],O=Object(c.useState)({}),p=Object(G.a)(O,2),m=p[0],x=p[1],f=Object(c.useState)(null),N=Object(G.a)(f,2),w=N[0],S=N[1],y=Object(c.useState)([]),I=Object(G.a)(y,2),k=I[0],F=I[1],T=Object(c.useState)([]),U=Object(G.a)(T,2),C=U[0],L=U[1],_=Object(r.b)(),P=Object(v.b)(["product"]).t,A=Object(c.useMemo)((function(){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),[]);Object(c.useEffect)((function(){var e=!1;return Object(Z.a)($.a.mark((function t(){var c,a;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.get("orders/income?pid="+s);case 3:c=t.sent,a=c.data.sort((function(e,t){return e._id-t._id})),d([]),h(""),!e&&a.map((function(e){return d((function(t){return[].concat(Object(pt.a)(t),[{name:A[e._id-1],Sales:e.total}])}))})),!e&&h(a.reduce((function(e,t){return e+t.total}),0)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))(),function(){return e=!0}}),[s,A]);var M=function(e){x((function(t){return Object(re.a)(Object(re.a)({},t),{},Object(Bt.a)({},e.target.name,e.target.value))}))},R=function(e){x((function(t){return Object(re.a)(Object(re.a)({},t),{},Object(Bt.a)({},e.target.name.slice(0,4),Object(re.a)(Object(re.a)({},m[e.target.name.slice(0,4)]),{},Object(Bt.a)({},e.target.name.slice(-2),e.target.value))))}))},D=0===k.length?null===a||void 0===a?void 0:a.categories:k,E=0===C.length?null===a||void 0===a?void 0:a.color:C;return Object(B.jsxs)("div",{className:"product",children:[Object(B.jsxs)("div",{className:"productTitleContainer",children:[Object(B.jsx)("h1",{className:"productTitle",children:P("product")}),Object(B.jsx)(g.b,{to:"/newproduct",children:Object(B.jsx)("button",{className:"productAddButton",children:P("create")})})]}),Object(B.jsxs)("div",{className:"productTop",children:[Object(B.jsx)("div",{className:"productTopLeft",children:Object(B.jsx)(wt,{data:o,dataKey:"Sales",title:P("sales_performance")})}),Object(B.jsxs)("div",{className:"productTopRight",children:[Object(B.jsxs)("div",{className:"productInfoTop",children:[Object(B.jsx)("img",{src:null===a||void 0===a?void 0:a.img,alt:"",className:"productInfoImg"}),Object(B.jsx)("span",{className:"productName",children:P(null===a||void 0===a?void 0:a.title)})]}),Object(B.jsxs)("div",{className:"productInfoBottom",children:[Object(B.jsxs)("div",{className:"productInfoItem",children:[Object(B.jsx)("span",{className:"productInfoKey",children:"id:"}),Object(B.jsx)("span",{className:"productInfoValue",children:null===a||void 0===a?void 0:a._id})]}),Object(B.jsxs)("div",{className:"productInfoItem",children:[Object(B.jsx)("span",{className:"productInfoKey",children:P("sales")}),Object(B.jsx)("span",{className:"productInfoValue",children:b})]}),Object(B.jsxs)("div",{className:"productInfoItem",children:[Object(B.jsx)("span",{className:"productInfoKey",children:P("inStock")}),Object(B.jsx)("span",{className:"productInfoValue",children:(null===a||void 0===a?void 0:a.inStock)?P("true"):P("false")})]})]})]})]}),Object(B.jsx)("div",{className:"productBottom",children:Object(B.jsxs)("form",{className:"productForm",children:[Object(B.jsxs)("div",{className:"productFormLeft",children:[Object(B.jsx)("label",{children:P("productName")}),Object(B.jsx)("input",{name:"title",type:"text",defaultValue:P(null===a||void 0===a?void 0:a.title),onChange:M}),Object(B.jsxs)("label",{children:[P("productDesc")," EN"]}),Object(B.jsx)("textarea",{name:"desc en",type:"text",defaultValue:null===a||void 0===a?void 0:a.desc.en,onChange:R}),Object(B.jsxs)("label",{children:[P("productDesc")," UA"]}),Object(B.jsx)("textarea",{name:"desc ua",type:"text",defaultValue:null===a||void 0===a?void 0:a.desc.ua,onChange:R}),Object(B.jsxs)("label",{children:[P("productDesc")," RU"]}),Object(B.jsx)("textarea",{name:"desc ru",type:"text",defaultValue:null===a||void 0===a?void 0:a.desc.ru,onChange:R}),Object(B.jsx)("label",{children:P("price")}),Object(B.jsx)("input",{name:"price",type:"text",defaultValue:null===a||void 0===a?void 0:a.price,onChange:M}),Object(B.jsx)("label",{children:P("color")}),Object(B.jsx)("input",{type:"text",defaultValue:null===a||void 0===a?void 0:a.color,onChange:function(e){L(e.target.value.split(","))}}),Object(B.jsx)("label",{children:P("categories")}),Object(B.jsx)("input",{type:"text",defaultValue:null===a||void 0===a?void 0:a.categories,onChange:function(e){F(e.target.value.split(","))}}),Object(B.jsx)("label",{children:P("inStock")}),Object(B.jsxs)("select",{name:"inStock",id:"idStock",onChange:M,children:[Object(B.jsx)("option",{value:"true",children:P("true")}),Object(B.jsx)("option",{value:"false",children:P("false")})]})]}),Object(B.jsxs)("div",{className:"productFormRight",children:[Object(B.jsxs)("div",{className:"productUpload",children:[Object(B.jsx)("img",{src:null===a||void 0===a?void 0:a.img,alt:"",className:"productUploadImg"}),Object(B.jsx)("label",{htmlFor:"file",children:Object(B.jsx)(Vt.a,{className:"publish"})}),Object(B.jsx)("input",{type:"file",id:"file",style:{display:"none"},onChange:function(e){return S(e.target.files[0])}})]}),Object(B.jsx)("button",{className:"productButton",onClick:function(e){return function(e){if(e.preventDefault(),w){var c=(new Date).getTime()+w.name,n=Object(Kt.b)(zt),r=Object(Kt.c)(n,c),i=Object(Kt.d)(r,w);i.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){}),(function(){Object(Kt.a)(i.snapshot.ref).then((function(e){var t=Object(re.a)(Object(re.a)({},m),{},{type:m.title,img:e,categories:D,color:E});ct(s,t,_)}))}),t("/products/"))}else{var l=Object(re.a)(Object(re.a)({},m),{},{type:m.title,img:a.img,categories:D,color:E});ct(s,l,_),t("/products/")}}(e,a._id)},disabled:n,children:P("update")})]})]})})]})};s(734);function Yt(){var e=Object(c.useState)({}),t=Object(G.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)(null),i=Object(G.a)(n,2),l=i[0],o=i[1],d=Object(c.useState)([]),u=Object(G.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)([]),O=Object(G.a)(h,2),p=O[0],m=O[1],x=Object(r.b)(),f=Object(q.n)(),g=Object(v.b)(["newProduct"]).t,N=Object(r.c)((function(e){return e.product.isFetching})),w=function(e){a((function(t){return Object(re.a)(Object(re.a)({},t),{},Object(Bt.a)({},e.target.name,e.target.value))}))},S=function(e){a((function(t){return Object(re.a)(Object(re.a)({},t),{},Object(Bt.a)({},e.target.name.slice(0,4),Object(re.a)(Object(re.a)({},s[e.target.name.slice(0,4)]),{},Object(Bt.a)({},e.target.name.slice(-2),e.target.value))))}))},y=[s.title,s.price,s.inStock,l,j.length,p.length].every(Boolean)&&!N;return Object(B.jsxs)("div",{className:"newProduct",children:[Object(B.jsx)("h1",{className:"addProductTitle",children:g("newProduct")}),Object(B.jsxs)("form",{className:"addProductForm",children:[Object(B.jsxs)("div",{className:"addProductItem",children:[Object(B.jsx)("label",{children:g("image")}),Object(B.jsx)("input",{type:"file",id:"file",onChange:function(e){return o(e.target.files[0])}})]}),Object(B.jsxs)("div",{className:"addProductItem",children:[Object(B.jsx)("label",{children:g("title")}),Object(B.jsx)("input",{name:"title",type:"text",placeholder:"Caubernet",onChange:w})]}),Object(B.jsxs)("div",{className:"addProductItem",children:[Object(B.jsx)("label",{children:g("descEn")}),Object(B.jsx)("input",{name:"desc_en",type:"text",placeholder:"description...",onChange:S})]}),Object(B.jsxs)("div",{className:"addProductItem",children:[Object(B.jsx)("label",{children:g("descUa")}),Object(B.jsx)("input",{name:"desc_ua",type:"text",placeholder:"\u043e\u043f\u0438\u0441...",onChange:S})]}),Object(B.jsxs)("div",{className:"addProductItem",children:[Object(B.jsx)("label",{children:g("descRu")}),Object(B.jsx)("input",{name:"desc_ru",type:"text",placeholder:"\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435...",onChange:S})]}),Object(B.jsxs)("div",{className:"addProductItem",children:[Object(B.jsx)("label",{children:g("price")}),Object(B.jsx)("input",{name:"price",type:"number",placeholder:"UAH 25",onChange:w})]}),Object(B.jsxs)("div",{className:"addProductItem",children:[Object(B.jsx)("label",{children:g("color")}),Object(B.jsx)("input",{type:"text",placeholder:"red, white",onChange:function(e){m(e.target.value.split(","))}})]}),Object(B.jsxs)("div",{className:"addProductItem",children:[Object(B.jsx)("label",{children:g("categories")}),Object(B.jsx)("input",{type:"text",placeholder:"european, hybrid",onChange:function(e){b(e.target.value.split(","))}})]}),Object(B.jsxs)("div",{className:"addProductItem",children:[Object(B.jsx)("label",{children:g("stock")}),Object(B.jsxs)("select",{name:"inStock",onChange:w,children:[Object(B.jsx)("option",{value:"true",children:"Yes"}),Object(B.jsx)("option",{value:"false",children:"No"})]})]}),Object(B.jsx)("button",{onClick:function(e){if(y)if(e.preventDefault(),l){var t=(new Date).getTime()+l.name,c=Object(Kt.b)(zt),a=Object(Kt.c)(c,t),n=Object(Kt.d)(a,l);n.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){}),(function(){Object(Kt.a)(n.snapshot.ref).then((function(e){var t=Object(re.a)(Object(re.a)({},s),{},{type:s.title,img:e,categories:j,color:p});at(t,x)}))}),f("/products/"))}else{var r=Object(re.a)(Object(re.a)({},s),{},{type:s.title,img:"",categories:j,color:p});at(r,x),f("/products/")}},className:"addProductButton",disabled:!y,children:g("button")})]})]})}var Qt=function(){var e=Object(c.useState)(""),t=Object(G.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)(""),i=Object(G.a)(n,2),l=i[0],o=i[1],d=Object(r.b)(),u=Object(r.c)((function(e){return e.user})),j=u.currentUser,b=u.isFetching,h=u.error,O=Object(v.b)(["login"]).t,p=function(){var e=Object(Z.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Xe(d,{username:s,password:l});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{style:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(B.jsx)("input",{style:{padding:"10px",marginBottom:"20px"},type:"text",placeholder:"username",onChange:function(e){return a(e.target.value)}}),Object(B.jsx)("input",{style:{padding:"10px",marginBottom:"20px"},type:"password",placeholder:"password",onChange:function(e){return o(e.target.value)}}),Object(B.jsx)("button",{style:{padding:10,width:"100px"},onClick:p,disabled:b,children:O("login")}),h&&Object(B.jsx)("p",{style:{color:"red"},children:O("wrong")}),!h&&j&&Object(B.jsx)(q.a,{to:"/"})]})},Xt=(s(735),function(){var e=Object(c.useState)([]),t=Object(G.a)(e,2),s=t[0],a=t[1],n=Object(c.useMemo)((function(){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),[]);return Object(c.useEffect)((function(){Object(Z.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.get("/orders/income");case 3:e.sent.data.map((function(e){return a((function(t){return[].concat(Object(pt.a)(t),[{name:n[e._id-1],Sales:e.total}])}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[n]),Object(B.jsxs)("div",{className:"sales",children:[Object(B.jsx)(It,{}),Object(B.jsx)(wt,{data:s,title:"Sales",grid:!0,dataKey:"Sales"}),Object(B.jsxs)("div",{className:"salesWidgets",children:[Object(B.jsx)(Ft,{}),Object(B.jsx)(Tt,{})]})]})}),es=(s(736),function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.order.orders})),s=Object(c.useState)(null),a=Object(G.a)(s,2),n=a[0],i=a[1],l=Object(c.useState)(!1),o=Object(G.a)(l,2),d=o[0],u=o[1],j=Object(v.b)(["orderList"]).t,b=X(),h=[{field:"_id",headerName:j("id"),width:200},{field:"userId",headerName:j("user"),width:200,renderCell:function(e){return Object(B.jsx)("div",{className:"orderListOrder",children:e.row.userId})}},{field:"email",headerName:j("email"),width:200},{field:"status",headerName:j("status"),width:120},{field:"products",headerName:j("products"),width:200,renderCell:function(e){return Object(B.jsx)("ul",{className:"productListItem",children:e.row.products.map((function(e){return Object(B.jsxs)("li",{children:[e.title,"/"]},e._id)}))})}},{field:"amount",headerName:j("amount"),width:150,renderCell:function(e){return Object(B.jsxs)("p",{children:[e.row.amount," UAH"]})}},{field:"address",headerName:j("address"),width:150,renderCell:function(e){return Object(B.jsx)("p",{children:e.row.address.city})}},{field:"createdAt",headerName:j("createdAt"),width:160,renderCell:function(e){return Object(B.jsx)("div",{children:Object(Y.a)(e.row.createdAt,b)})}},{field:"action",headerName:j("action"),width:150,renderCell:function(e){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(g.b,{to:"/order/"+e.row._id,children:Object(B.jsx)("button",{className:"orderListEdit",children:j("view")})}),Object(B.jsx)(Lt.a,{className:"orderListDelete",onClick:function(){i(e.row._id),u(!0)}})]})}}];return Object(B.jsxs)("div",{className:"orderList",children:[Object(B.jsx)(Ct.a,{rows:t,disableSelectionOnClick:!0,columns:h,getRowId:function(e){return e._id},pageSize:12,checkboxSelection:!0}),Object(B.jsxs)(_t.a,{open:d,onClose:function(){return u(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(B.jsxs)(Pt.a,{children:[j("deleteConfirmation")," ",n," ?"]}),Object(B.jsxs)(At.a,{children:[Object(B.jsx)(Mt.a,{onClick:function(){return u(!1)},color:"primary",children:j("cancel")}),Object(B.jsx)(Mt.a,{onClick:function(){ot(n,e),u(!1)},color:"primary",autoFocus:!0,children:j("delete")})]})]})]})}),ts=s(819),ss=s(820),cs=s(821),as=(s(737),function(){var e,t,s,a,n,i=Object(q.l)().pathname.split("/")[2],l=Object(r.b)(),o=Object(r.c)((function(e){return e.order.orders.find((function(e){return e._id===i}))})),d=Object(c.useState)(""),j=Object(G.a)(d,2),b=j[0],h=j[1],p=Object(v.b)(["order"]).t,m=X();return Object(B.jsxs)("div",{className:"order",children:[Object(B.jsx)("button",{className:b?"orderUpdateButton":"displayNone",onClick:function(e){return function(e){e.preventDefault();var t=Object(re.a)(Object(re.a)({},o),{},{status:b});dt(i,t,l),h("")}(e)},children:p("update")}),Object(B.jsxs)("h1",{className:"orderTitle",children:[p("title")," ",o._id]}),Object(B.jsxs)("div",{className:"personalInfo",children:[Object(B.jsxs)("div",{className:"left",children:[Object(B.jsxs)("div",{className:"infoTitle",children:[Object(B.jsx)(ts.a,{}),Object(B.jsx)("h2",{children:p("personalInfo.title")})]}),Object(B.jsxs)("div",{className:"infoLine",children:[Object(B.jsxs)("p",{className:"infoLineTitle",children:[Object(B.jsx)(u.a,{className:"userShowIcon"})," ",p("personalInfo.userId")]}),Object(B.jsx)("p",{children:o.userId})]}),Object(B.jsxs)("div",{className:"infoLine",children:[Object(B.jsxs)("p",{className:"infoLineTitle",children:[Object(B.jsx)(O.a,{className:"userShowIcon"})," ",p("personalInfo.userEmail")]}),Object(B.jsx)("p",{children:o.email})]}),Object(B.jsxs)("div",{className:"infoLine",children:[Object(B.jsxs)("p",{className:"infoLineTitle",children:[Object(B.jsx)(ss.a,{className:"userShowIcon"})," ",p("personalInfo.orderStatus")]}),Object(B.jsxs)("select",{name:"status",defaultValue:o.status,className:b?"status_"+b:"status_"+o.status,onChange:function(e){return function(e){h(e.target.value)}(e)},children:[Object(B.jsx)("option",{value:"approved",children:p("approved")}),Object(B.jsx)("option",{value:"shipped",children:p("shipped")}),Object(B.jsx)("option",{value:"declined",children:p("declined")}),Object(B.jsx)("option",{value:"delivered",children:p("delivered")}),Object(B.jsx)("option",{value:"pending",children:p("pending")})]})]}),Object(B.jsxs)("div",{className:"infoLine",children:[Object(B.jsxs)("p",{className:"infoLineTitle",children:[Object(B.jsx)(Dt.a,{className:"userShowIcon"})," ",p("personalInfo.createdAt")]}),Object(B.jsx)("p",{children:Object(Y.a)(o.createdAt,m)})]}),Object(B.jsxs)("div",{className:"infoLine",children:[Object(B.jsxs)("p",{className:"infoLineTitle",children:[Object(B.jsx)(Dt.a,{className:"userShowIcon"})," ",p("personalInfo.updatedAt")]}),Object(B.jsx)("p",{children:Object(Y.a)(o.updatedAt,m)})]})]}),Object(B.jsxs)("div",{className:"right",children:[Object(B.jsxs)("div",{className:"infoTitle",children:[Object(B.jsx)(cs.a,{}),Object(B.jsx)("h2",{children:p("address.title")})]}),Object(B.jsxs)("div",{className:"infoLine",children:[Object(B.jsx)("p",{className:"infoLineTitle",children:p("address.street")}),Object(B.jsx)("p",{children:null===(e=o.address)||void 0===e?void 0:e.line1})]}),Object(B.jsxs)("div",{className:"infoLine",children:[Object(B.jsx)("p",{className:"infoLineTitle"}),Object(B.jsx)("p",{children:null===(t=o.address)||void 0===t?void 0:t.line2})]}),Object(B.jsxs)("div",{className:"infoLine",children:[Object(B.jsx)("p",{className:"infoLineTitle",children:p("address.city")}),Object(B.jsx)("p",{children:null===(s=o.address)||void 0===s?void 0:s.city})]}),Object(B.jsxs)("div",{className:"infoLine",children:[Object(B.jsx)("p",{className:"infoLineTitle",children:p("address.state")}),Object(B.jsx)("p",{children:null===(a=o.address)||void 0===a?void 0:a.state})]}),Object(B.jsxs)("div",{className:"infoLine",children:[Object(B.jsx)("p",{className:"infoLineTitle",children:p("address.postCode")}),Object(B.jsx)("p",{children:null===(n=o.address)||void 0===n?void 0:n.postal_code})]})]})]}),Object(B.jsxs)("div",{className:"productsInfo",children:[Object(B.jsx)("h2",{className:"order",children:p("products.title")}),Object(B.jsxs)("table",{className:"productsTable",children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{className:"productTr",children:[Object(B.jsx)("th",{className:"productsTh",children:p("products.productId")}),Object(B.jsx)("th",{className:"productsTh",children:p("products.productTitle")}),Object(B.jsx)("th",{className:"productsTh",children:p("products.color")}),Object(B.jsx)("th",{className:"productsTh",children:p("products.quantity")}),Object(B.jsx)("th",{className:"productsTh",children:p("products.price100kg")}),Object(B.jsx)("th",{className:"productsTh",children:p("products.priceProduct")})]})}),o.products.map((function(e){return Object(B.jsx)("tbody",{children:Object(B.jsxs)("tr",{className:"productTr",children:[Object(B.jsx)("td",{className:"productTh",children:e.productId}),Object(B.jsx)("td",{className:"productTh",children:e.title}),Object(B.jsx)("td",{className:"productTh",children:e.color}),Object(B.jsx)("td",{className:"productTh",children:e.quantity}),Object(B.jsxs)("td",{className:"productTh",children:[e.price," ",p("uah")]}),Object(B.jsxs)("td",{className:"productTh",children:[e.quantity*e.price," ",p("uah")]})]},e._id)},e._id)}))]}),Object(B.jsxs)("h2",{className:"totalAmount",children:[p("totalAmount")," ",o.amount," ",p("uah")]})]})]})}),ns=(s(738),function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.message.messages})),s=Object(v.b)(["messageList"]).t,c=X(),a=function(t){var s=Object(re.a)(Object(re.a)({},t),{},{read:!t.read});jt(t._id,s,e)};return Object(B.jsxs)("div",{className:"messagesContainer",children:[Object(B.jsx)("h1",{className:"messagesTitle",children:s("title")}),null===t||void 0===t?void 0:t.map((function(e){return Object(B.jsxs)("div",{className:"messageBlock",children:[Object(B.jsx)("button",{className:e.read?"markRead":"markNotRead",onClick:function(){return a(e)}}),Object(B.jsxs)("div",{className:e.read?"messageDetails read":"messageDetails notRead",onClick:function(){return a(e)},children:[Object(B.jsxs)("div",{className:"topLineList",children:[Object(B.jsx)("b",{children:s("receivedFromUsername")}),": ",e.username]}),Object(B.jsx)("div",{className:"middleLine",children:Object(B.jsxs)("div",{className:"emailLine",children:[Object(B.jsx)("b",{children:s("email")}),": ",e.email]})}),Object(B.jsx)("div",{className:"middleLine",children:Object(B.jsxs)("div",{className:"subjectLine",children:[Object(B.jsx)("b",{children:s("subject")}),": ",e.subject]})}),Object(B.jsx)("div",{className:"messageBlock",children:Object(B.jsxs)("div",{className:"messageLine",children:[e.message.substring(0,100),"..."]})}),Object(B.jsxs)("div",{className:"bottomLine",children:["(",Object(Y.a)(e.createdAt,c),")"]})]}),Object(B.jsx)(g.c,{to:"/message/".concat(e._id),className:"viewLink",children:s("viewMessage")})]},e._id)}))]})}),rs=(s(739),function(){var e=Object(q.l)().pathname.split("/")[2],t=Object(r.c)((function(t){return t.message.messages.find((function(t){return t._id===e}))})),s=Object(r.b)(),a=Object(v.b)(["message"]).t,n=X();return Object(c.useEffect)((function(){var c=Object(re.a)(Object(re.a)({},t),{},{read:!0});bt(e,c,s)}),[s,e,t]),t?Object(B.jsx)("section",{className:"messageContainer",children:Object(B.jsxs)("article",{className:"message",children:[Object(B.jsx)("h2",{children:t.subject}),Object(B.jsxs)("div",{className:"topLine",children:[Object(B.jsxs)("div",{children:[Object(B.jsx)("b",{children:a("receivedFromUsername")}),": ",t.username]}),Object(B.jsxs)("div",{children:[Object(B.jsx)("b",{children:a("userId")}),": ",t.userId]})]}),Object(B.jsxs)("div",{className:"middleLine",children:[Object(B.jsx)("b",{children:a("fullName")}),":",Object(B.jsxs)("span",{children:[" ",t.title?t.title:""," "]}),Object(B.jsxs)("span",{children:[t.firstName?t.firstName:""," "]}),Object(B.jsx)("span",{children:t.lastName?t.lastName:""})]}),Object(B.jsx)("div",{className:"middleLine",children:Object(B.jsxs)("div",{className:"emailLine",children:[Object(B.jsx)("b",{children:a("email")}),": ",t.email?t.email:"unknown"]})}),Object(B.jsxs)("div",{className:"middleLine",children:[Object(B.jsx)("b",{children:a("telephone")}),": ",t.telephone?t.telephone:a("unknown")]}),Object(B.jsx)("p",{className:"messageContent",children:t.message}),Object(B.jsxs)("div",{className:"bottomLine",children:[Object(B.jsx)("p",{className:"timeSent",children:Object(Y.a)(t.createdAt,n)}),"unregistered"!==t.userId&&Object(B.jsx)(g.c,{to:"/user/".concat(t.userId),children:Object(B.jsx)("p",{className:"timeSent",children:a("allMessagessFromUser")})})]})]})}):Object(B.jsx)("section",{children:Object(B.jsx)("h2",{children:a("messageNotFound")})})}),is=function(){var e=Object(r.b)(),t=!!Object(r.c)((function(e){return e.user.currentUser}));return Object(c.useEffect)((function(){var s=!1;return!s&&t&&(ut(e),tt(e),lt(e),nt(e)),function(){return s=!0}}),[e,t]),Object(B.jsx)(c.Suspense,{fallback:Object(B.jsx)("div",{children:"Loading..."}),children:Object(B.jsxs)(g.a,{children:[Object(B.jsx)(Ot,{}),Object(B.jsxs)("div",{className:"container",children:[t&&Object(B.jsx)(E,{}),Object(B.jsxs)(q.d,{children:[Object(B.jsx)(q.b,{path:"/login",element:t?Object(B.jsx)(Ut,{}):Object(B.jsx)(Qt,{})}),t&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(q.b,{exact:!0,path:"/",element:Object(B.jsx)(Ut,{})}),Object(B.jsx)(q.b,{path:"/orders",element:Object(B.jsx)(es,{})}),Object(B.jsx)(q.b,{path:"/order/:orderId",element:Object(B.jsx)(as,{})}),Object(B.jsx)(q.b,{path:"/users",element:Object(B.jsx)(Rt,{})}),Object(B.jsx)(q.b,{path:"/user/:userId",element:Object(B.jsx)($t,{})}),Object(B.jsx)(q.b,{path:"/newUser",element:Object(B.jsx)(Zt,{})}),Object(B.jsx)(q.b,{path:"/products",element:Object(B.jsx)(Ht,{})}),Object(B.jsx)(q.b,{path:"/product/:productId",element:Object(B.jsx)(Gt,{})}),Object(B.jsx)(q.b,{path:"/newproduct",element:Object(B.jsx)(Yt,{})}),Object(B.jsx)(q.b,{path:"/sales",element:Object(B.jsx)(Xt,{})}),Object(B.jsx)(q.b,{path:"/messages",element:Object(B.jsx)(ns,{})}),Object(B.jsx)(q.b,{path:"/message/:messageId",element:Object(B.jsx)(rs,{})})]})]})]})]})})},ls=s(66),os=s(96),ds=s(220),us=s.n(ds),js={key:"root",version:1,storage:us.a},bs=Object(ls.b)({user:Ye,product:_e,order:xe,message:A}),hs=Object(os.g)(js,(function(e,t){return"user/logoutSuccess"===t.type&&(us.a.removeItem("persist:root"),us.a.removeItem("i18nextLng"),Object(os.i)(js),e=void 0),bs(e,t)})),Os=Object(N.a)({reducer:hs,middleware:function(e){return e({serializableCheck:{ignoredActions:[os.a,os.f,os.b,os.c,os.d,os.e]}})}}),ps=Object(os.h)(Os),ms=s(423),xs=s(424),fs=s(426);ht.a.use(xs.a).use(fs.a).use(v.a).init({backend:{loadPath:"/locales/{{ns}}/{{lng}}.json"},debug:!1,fallbackLng:"en",interpolation:{formatSeparator:","},ns:["topbar","sidebar","featuredInfo","home","widgetSm","widgetLg","userList","orderList","order","user","newUser","productList","product","newProduct","messageList","message"],react:{useSuspense:!0}});ht.a;n.a.render(Object(B.jsx)(r.a,{store:Os,children:Object(B.jsx)(ms.a,{loading:null,persistor:ps,children:Object(B.jsx)(is,{})})}),document.getElementById("root"))}},[[742,1,2]]]);
//# sourceMappingURL=main.923ec6da.chunk.js.map